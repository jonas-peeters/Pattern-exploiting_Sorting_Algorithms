//
//  main.c
//  branch-prediction
//
//  Created by Jonas Peeters on 26.06.21.
//

#include <stdio.h>
#include <time.h>
#include <stdlib.h>

double i = 0;

void calculation() {
    double y = 5;
    double x = 3;
    
    int rnd = rand();
    
    if (rnd % 2 == 0) {
        i = i + x * y;
    }
}

int main() {
    
    int tests = 1000000;
    
    clock_t t;
    t = clock();
    for (int i = 0; i < tests; i++) {
        calculation();
    }

    t = clock() - t;
    double time_taken = ((double)t / CLOCKS_PER_SEC);
    
    printf("%f\n", i);
    
    printf("Time: %f\n", time_taken);
}
